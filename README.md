# 双链融合贸易融资平台离线演示站点

本项目为“区块链与供应链双链融合的贸易融资平台（应收账款融资示例场景）”的线下演示网页。所有依赖均存放于本地 `assets/` 目录，可直接离线运行。

## 快速使用

1. 解压项目压缩包到本地任意目录。
2. 使用现代浏览器（Chrome / Edge / Firefox）打开 `index.html`。
3. 页面加载后，可通过顶部 Tab 浏览 10 个主题区块，体验流程播放器、S/L 计算器、监管穿透视图等交互。
4. 点击图表卡片右下角的“下载 PNG”按钮可导出对应图表截图；点击“导出为 PDF”触发浏览器打印对话框（打印模式自动切换白底、去阴影）。

## 目录结构

```
├─ index.html                # 单页应用入口
├─ README.md                 # 使用说明（本文件）
├─ assets/
│  ├─ css/styles.css         # 全局样式与打印样式
│  ├─ data/mock.json         # 所有可视化与文本数据
│  ├─ img/*.svg              # 本地图形、示意图、纹理
│  └─ js/
│       ├─ echarts.min.js    # ECharts 本地依赖
│       └─ app.js            # 主逻辑（数据加载、模块交互）
```

## 数据字典概览

| 键 (mock.json) | 描述 |
| -------------- | ---- |
| `meta` | 页面标题、团队信息、打印按钮文案等元数据 |
| `navigation` | 顶部 Tab 配置（id、中文/英文标题） |
| `overview` | 首页 KPI 翻牌数据、CTA 按钮配置、海报信息 |
| `background` | 项目痛点、区块链优势、政策时间线、场景示意 |
| `objectives` | 短期/中期目标指标、预警规则、滚动迭代说明 |
| `technology` | 技术架构路径、S/L 模型、组件说明、计算器默认值 |
| `businessFlow` | 八步流程说明及播放器文案 |
| `rolesSection` | 五大角色操作清单、收益指标及生态协同描述 |
| `implementation` | 四阶段实施计划、甘特任务、里程碑 |
| `risk` | 风险热度矩阵、各类风险应对策略、三层管控动作 |
| `regulatory` | 监管穿透视图过滤项、统计数据、区域热度 |
| `outcomes` | 三年服务规模、融资额度、成本节省与行业效益 |
| `team` | 团队成员、感谢与许可声明 |
| `dataAssets` | 用于图表的数据集：企业、订单、信用评分、额度、KPI 指标、成本结构等 |
| `downloadableCharts` | 支持导出 PNG 的图表 ID 列表 |
| `printConfig` | 打印模式保留的页面分区及备注 |

> 所有中文文本及数值均来自 `mock.json`，`app.js` 负责读取并渲染，同时实现导航路由、ECharts 图表、流程播放器、S/L 计算器、风险联动及打印导出等逻辑模块。

## 可扩展与集成建议

- 若需接入真实数据，可在 `mock.json` 中替换相同结构的数据源，或在 `app.js` 的 `DataLoader` 模块中添加本地数据库/文件读取逻辑。
- 图表使用 ECharts，若需新增图表，可在 `downloadableCharts` 列表中登记 ID，并通过 `ChartManager.initChart` 渲染及复用 PNG 下载逻辑。
- 风险看板、实施计划、监管视图等模块支持配置驱动；仅需在 `mock.json` 中扩展数组项即可自动显示。

## 验证要点

- 浏览器控制台无错误或网络请求（离线加载）。
- 顶部 Tab、快速入口、流程播放器、S/L 计算器、监管筛选、风险点点击均可交互。
- 图表懒加载并支持 PNG 导出；打印模式自动去除阴影并保留关键图表。
- 所有交互元素具备可达的键盘焦点与 `aria` 标签，满足线下评审演示与打印汇报需求。

 如需自定义主题或新增模块，可重点参考 `styles.css` 的变量定义与 `app.js` 中的模块化结构。

## 常见问题与修复记录

- 白屏问题：由于页面没有渲染任何面板以及脚本报错导致。
  - 修复一：在 `index.html` 的 `<main>` 中补充缺失的 `panel-regulatory` 节点，避免渲染监管视图时获取不到元素而报错。
  - 修复二：在 `assets/js/app.js` 的额度计算器中，行业系数读取错误（从 `rules.kFactors` 读取），已更正为从 `rules.limitModel.kFactors` 读取，避免 `TypeError`。
  - 验证：本地启动静态服务器后预览无报错，页面正常渲染与交互。

## 本地预览

- 在项目根目录执行：`python -m http.server 8000`
- 浏览器打开：`http://localhost:8000/`
